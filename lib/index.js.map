{"version":3,"file":"index.js","sources":["../src/utils/constants.ts","../src/utils/is.ts","../src/utils/extract-obj-value.ts","../src/json-parse.ts","../src/utils/quote.ts","../src/json-stringify.ts","../src/json-stringify-by-data-schema.ts","../src/json-stringify-by-json-schema.ts"],"sourcesContent":["export const DATA_TYPE = {\n  STRING: \"string\",\n  NUMBER: \"number\",\n  BOOLEAN: \"boolean\",\n  NULL: \"null\",\n  OBJECT: \"object\",\n  ARRAY: \"array\",\n} as const;\n","export function isArray(obj: unknown): obj is unknown[] {\n  return Object.prototype.toString.call(obj) === \"[object Array]\";\n}\n\nexport function isObject(obj: unknown): obj is { [key: string]: unknown } {\n  return Object.prototype.toString.call(obj) === \"[object Object]\";\n}\n\nexport function isString(obj: unknown): obj is string {\n  return Object.prototype.toString.call(obj) === \"[object String]\";\n}\n\nexport function isNumber(obj: unknown): obj is number {\n  return (\n    Object.prototype.toString.call(obj) === \"[object Number]\" && obj === obj\n  );\n}\n\nexport function isBoolean(obj: unknown): obj is boolean {\n  return Object.prototype.toString.call(obj) === \"[object Boolean]\";\n}\n\nexport function isRegExp(obj: unknown) {\n  return Object.prototype.toString.call(obj) === \"[object RegExp]\";\n}\n\nexport function isFile(obj: unknown): obj is File {\n  return Object.prototype.toString.call(obj) === \"[object File]\";\n}\n\nexport function isBlob(obj: unknown): obj is Blob {\n  return Object.prototype.toString.call(obj) === \"[object Blob]\";\n}\n\nexport function isUndefined(obj: unknown): obj is undefined {\n  return obj === undefined;\n}\n\nexport function isNull(obj: unknown): obj is null {\n  return obj === null;\n}\n\nexport function isNullOrUndefined(obj: unknown): boolean {\n  return obj === null || obj === undefined;\n}\n\nexport function isFunction(\n  obj: unknown\n): obj is (...args: unknown[]) => unknown {\n  return typeof obj === \"function\";\n}\n","import { DATA_TYPE } from \"./constants\";\nimport { isObject, isArray } from \"./is\";\n\nexport default function extractObjValue(obj) {\n  if (!isObject(obj)) {\n    throw new Error(\n      `obj: ${obj} should be an object with type and field properties`\n    );\n  }\n\n  switch (obj.type) {\n    case DATA_TYPE.OBJECT: {\n      if (!isObject(obj.value)) {\n        throw new Error(\n          `obj.type is object, obj.value: ${obj.value} doesn't match`\n        );\n      }\n      const result = {};\n      for (const [key, value] of Object.entries(obj.value)) {\n        result[key] = extractObjValue(value);\n      }\n      return result;\n    }\n\n    case DATA_TYPE.ARRAY: {\n      if (!isArray(obj.value)) {\n        throw new Error(\n          `obj.type is array, obj.value: ${obj.value} doesn't match`\n        );\n      }\n      const result = [];\n      for (const value of obj.value) {\n        result.push(extractObjValue(value));\n      }\n      return result;\n    }\n\n    default:\n      return obj.value;\n  }\n}\n","import extractObjValue from \"./utils/extract-obj-value\";\n\n/*\n/*members \"\", \"\\\"\", \"\\/\", \"\\\\\", at, b, call, charAt, f, fromCharCode,\n    hasOwnProperty, message, n, name, prototype, push, r, t, text\n*/\n\ninterface IOptions {\n  strict?: boolean; // not being strict means do not generate syntax errors for \"duplicate key\", default is false\n  storeAsString?: boolean; // toggles whether the values should be stored as BigNumber (default) or a string, default is false\n  alwaysParseAsBigInt?: boolean; // toggles whether all numbers should be BigInt Type, default is false\n  protoAction?: \"error\" | \"ignore\" | \"preserve\"; // whether keep __proto__ property, default is \"error\", not allowed\n  constructorAction?: \"error\" | \"ignore\" | \"preserve\"; // whether keep constructor property, default is \"error\", not allowed\n}\n\nconst jsonParse = function (source: string, options?: IOptions) {\n  // regexpxs extracted from\n  // (c) BSD-3-Clause\n  // https://github.com/fastify/secure-json-parse/graphs/contributors and https://github.com/hapijs/bourne/graphs/contributors\n  // Here is another issue: hasOwnProperty also will override the object property\n  const suspectProtoRx =\n    /(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])(?:p|\\\\u0070)(?:r|\\\\u0072)(?:o|\\\\u006[Ff])(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:_|\\\\u005[Ff])(?:_|\\\\u005[Ff])/;\n  const suspectConstructorRx =\n    /(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)/;\n\n  // This is a function that can parse a JSON text, producing a JavaScript\n  // data structure. It is a simple, recursive descent parser. It does not use\n  // eval or regular expressions, so it can be used as a model for implementing\n  // a JSON parser in other languages.\n\n  // Default options one can override by passing options to the parse()\n  const _options = {\n    strict: false, // not being strict means do not generate syntax errors for \"duplicate key\"\n    storeAsString: false, // toggles whether the values should be stored as BigNumber (default) or a string\n    alwaysParseAsBigInt: false, // toggles whether all numbers should be BigInt Type\n    protoAction: \"error\",\n    constructorAction: \"error\",\n  };\n\n  // If there are options, then use them to override the default _options\n  if (options !== undefined && options !== null) {\n    if (options.strict === true) {\n      _options.strict = true;\n    }\n    if (options.storeAsString === true) {\n      _options.storeAsString = true;\n    }\n    _options.alwaysParseAsBigInt =\n      options.alwaysParseAsBigInt === true\n        ? options.alwaysParseAsBigInt\n        : false;\n\n    if (typeof options.constructorAction !== \"undefined\") {\n      if (\n        options.constructorAction === \"error\" ||\n        options.constructorAction === \"ignore\" ||\n        options.constructorAction === \"preserve\"\n      ) {\n        _options.constructorAction = options.constructorAction;\n      } else {\n        throw new Error(\n          `Incorrect value for constructorAction option, must be \"error\", \"ignore\" or undefined but passed ${options.constructorAction}`\n        );\n      }\n    }\n\n    if (typeof options.protoAction !== \"undefined\") {\n      if (\n        options.protoAction === \"error\" ||\n        options.protoAction === \"ignore\" ||\n        options.protoAction === \"preserve\"\n      ) {\n        _options.protoAction = options.protoAction;\n      } else {\n        throw new Error(\n          `Incorrect value for protoAction option, must be \"error\", \"ignore\" or undefined but passed ${options.protoAction}`\n        );\n      }\n    }\n  }\n\n  let at; // The index of the current character\n  let ch; // The current character\n  const escapee = {\n    '\"': '\"',\n    \"\\\\\": \"\\\\\",\n    \"/\": \"/\",\n    b: \"\\b\",\n    f: \"\\f\",\n    n: \"\\n\",\n    r: \"\\r\",\n    t: \"\\t\",\n  };\n  let text;\n\n  const error = function (m) {\n    // Call error when something is wrong.\n\n    throw {\n      name: \"SyntaxError\",\n      message: m,\n      at: at,\n      text: text,\n    };\n  };\n\n  const next = function (c?) {\n    // If a c parameter is provided, verify that it matches the current character.\n\n    if (c && c !== ch) {\n      error(\"Expected '\" + c + \"' instead of '\" + ch + \"'\");\n    }\n\n    // Get the next character. When there are no more characters,\n    // return the empty string.\n\n    ch = text.charAt(at);\n    at += 1;\n    return ch;\n  };\n\n  const number = function () {\n    // Parse a number value.\n\n    let number;\n    let string = \"\";\n\n    if (ch === \"-\") {\n      string = \"-\";\n      next(\"-\");\n    }\n    while (ch >= \"0\" && ch <= \"9\") {\n      string += ch;\n      next();\n    }\n    if (ch === \".\") {\n      string += \".\";\n      while (next() && ch >= \"0\" && ch <= \"9\") {\n        string += ch;\n      }\n    }\n    if (ch === \"e\" || ch === \"E\") {\n      string += ch;\n      next();\n      if (ch === \"-\" || ch === \"+\") {\n        string += ch;\n        next();\n      }\n      while (ch >= \"0\" && ch <= \"9\") {\n        string += ch;\n        next();\n      }\n    }\n    number = +string;\n    if (!isFinite(number)) {\n      error(\"Bad number\");\n    } else {\n      if (_options.storeAsString) {\n        return { type: \"string\", originType: \"number\", value: string };\n      }\n\n      if (Number.isSafeInteger(number))\n        if (_options.alwaysParseAsBigInt) {\n          return {\n            type: \"number\",\n            originType: \"number\",\n            value: BigInt(number),\n          };\n        } else {\n          return { type: \"number\", originType: \"number\", value: number };\n        }\n      // Number with fractional part should be treated as number(double) including big integers in scientific notation, i.e 1.79e+308\n      else {\n        let result;\n        if (/[\\.eE]/.test(string)) {\n          result = number;\n        } else {\n          result = BigInt(string);\n        }\n        return { type: \"number\", originType: \"number\", value: result };\n      }\n    }\n  };\n\n  const string = function () {\n    // Parse a string value.\n\n    let hex;\n    let i;\n    let string = \"\";\n    let uffff;\n\n    // When parsing for string values, we must look for \" and \\ characters.\n\n    if (ch === '\"') {\n      let startAt = at;\n      while (next()) {\n        if (ch === '\"') {\n          if (at - 1 > startAt) string += text.substring(startAt, at - 1);\n          next();\n          return { type: \"string\", originType: \"string\", value: string };\n        }\n        if (ch === \"\\\\\") {\n          if (at - 1 > startAt) string += text.substring(startAt, at - 1);\n          next();\n          if (ch === \"u\") {\n            uffff = 0;\n            for (i = 0; i < 4; i += 1) {\n              hex = parseInt(next(), 16);\n              if (!isFinite(hex)) {\n                break;\n              }\n              uffff = uffff * 16 + hex;\n            }\n            string += String.fromCharCode(uffff);\n          } else if (typeof escapee[ch] === \"string\") {\n            string += escapee[ch];\n          } else {\n            break;\n          }\n          startAt = at;\n        }\n      }\n    }\n    error(\"Bad string\");\n  };\n\n  const white = function () {\n    // Skip whitespace and control characters like LF(line feed) '\\n' or CR(carriage return) '\\r'\n\n    while (ch && ch <= \" \") {\n      next();\n    }\n  };\n\n  const word = function () {\n    // true, false, or null.\n\n    switch (ch) {\n      case \"t\":\n        next(\"t\");\n        next(\"r\");\n        next(\"u\");\n        next(\"e\");\n        return { type: \"boolean\", originType: \"boolean\", value: true };\n\n      case \"f\":\n        next(\"f\");\n        next(\"a\");\n        next(\"l\");\n        next(\"s\");\n        next(\"e\");\n        return { type: \"boolean\", originType: \"boolean\", value: false };\n\n      case \"n\":\n        next(\"n\");\n        next(\"u\");\n        next(\"l\");\n        next(\"l\");\n        return { type: \"null\", originType: \"null\", value: null };\n    }\n    error(\"Unexpected '\" + ch + \"'\");\n  };\n\n  let value; // Place holder for the value function.\n\n  const array = function () {\n    // Parse an array value.\n\n    const array = { type: \"array\", originType: \"array\", value: [] };\n\n    if (ch === \"[\") {\n      next(\"[\");\n      white();\n      if (ch === \"]\") {\n        next(\"]\");\n        return array; // empty array\n      }\n      while (ch) {\n        array.value.push(value());\n        white();\n        if (ch === \"]\") {\n          next(\"]\");\n          return array;\n        }\n        next(\",\");\n        white();\n      }\n    }\n    error(\"Bad array\");\n  };\n\n  const object = function () {\n    // Parse an object value.\n\n    let key;\n    const object = { type: \"object\", originType: \"object\", value: {} };\n    if (ch === \"{\") {\n      next(\"{\");\n      white();\n      if (ch === \"}\") {\n        next(\"}\");\n        return object; // empty object\n      }\n      while (ch) {\n        key = string()?.value;\n        white();\n        next(\":\");\n        if (\n          _options.strict === true &&\n          Object.hasOwnProperty.call(object.value, key)\n        ) {\n          error('Duplicate key \"' + key + '\"');\n        }\n\n        if (suspectProtoRx.test(key) === true) {\n          if (_options.protoAction === \"error\") {\n            error(\"Object contains forbidden prototype property\");\n          } else if (_options.protoAction === \"ignore\") {\n            value();\n          } else {\n            object.value[key] = value();\n          }\n        } else if (suspectConstructorRx.test(key) === true) {\n          if (_options.constructorAction === \"error\") {\n            error(\"Object contains forbidden constructor property\");\n          } else if (_options.constructorAction === \"ignore\") {\n            value();\n          } else {\n            object.value[key] = value();\n          }\n        } else {\n          object.value[key] = value();\n        }\n\n        white();\n        if (ch === \"}\") {\n          next(\"}\");\n          return object;\n        }\n        next(\",\");\n        white();\n      }\n    }\n    error(\"Bad object\");\n  };\n\n  value = function () {\n    // Parse a JSON value. It could be an object, an array, a string, a number,\n    // or a word.\n    // debugger;\n    white();\n    switch (ch) {\n      case \"{\":\n        return object();\n      case \"[\":\n        return array();\n      case '\"':\n        return string();\n      case \"-\":\n        return number();\n      default:\n        return ch >= \"0\" && ch <= \"9\" ? number() : word();\n    }\n  };\n\n  // Return the jsonParse function. It will have access to all of the above\n  // functions and variables.\n\n  text = source + \"\";\n  at = 0;\n  ch = \" \";\n  const dataSchema = value();\n  const data = extractObjValue(dataSchema);\n  white();\n  if (ch) {\n    error(\"Syntax error\");\n  }\n\n  return { data, dataSchema };\n};\n\nexport default jsonParse;\n","import { isString } from \"./is\";\n\nexport default function quote(str) {\n  // If the string contains no control characters, no quote characters, and no\n  // backslash characters, then we can safely slap some quotes around it.\n  // Otherwise we must also replace the offending characters with safe escape\n  // sequences.\n  const escapable =\n    /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g;\n  const meta = {\n    // table of character substitutions\n    \"\\b\": \"\\\\b\",\n    \"\\t\": \"\\\\t\",\n    \"\\n\": \"\\\\n\",\n    \"\\f\": \"\\\\f\",\n    \"\\r\": \"\\\\r\",\n    '\"': '\\\\\"',\n    \"\\\\\": \"\\\\\\\\\",\n  };\n  escapable.lastIndex = 0;\n  if (escapable.test(str)) {\n    const newStr = str.replace(escapable, function (a) {\n      const c = meta[a];\n      return isString(c)\n        ? c\n        : \"\\\\u\" + (\"0000\" + a.charCodeAt(0).toString(16)).slice(-4);\n    });\n    return `\"${newStr}\"`;\n  }\n\n  return `\"${str}\"`;\n}\n","import { isFunction, isObject, isArray } from \"./utils/is\";\nimport quote from \"./utils/quote\";\n\n/*jslint evil: true, regexp: true */\n\n/*members \"\", \"\\b\", \"\\t\", \"\\n\", \"\\f\", \"\\r\", \"\\\"\", JSON, \"\\\\\", apply,\n    call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n    lastIndex, length, parse, prototype, push, replace, slice, stringify,\n    test, toJSON, toString, valueOf\n*/\nexport default function jsonStringify(value, replacer, space) {\n  let gap = \"\";\n  let indent = \"\";\n\n  // common JSON.stringify with maximum 10 limit, but it is not necessary\n  if (typeof space === \"number\") {\n    for (let i = 0; i < space; i += 1) {\n      indent += \" \";\n    }\n  } else if (typeof space === \"string\") {\n    indent = space;\n  }\n\n  if (replacer && !isFunction(replacer) && !isArray(replacer)) {\n    throw new Error(\"Parameter replacer should be an array or function\");\n  }\n\n  const walk = (key, holder) => {\n    // Produce a string from holder[key].\n\n    let i, // The loop counter.\n      k, // The member key.\n      v, // The member value.\n      length,\n      partial,\n      value = holder[key];\n\n    const mind = gap;\n\n    // If the value has a toJSON method, call it to obtain a replacement value.\n\n    if (value && isObject(value) && isFunction(value.toJSON)) {\n      value = value.toJSON(key);\n    }\n\n    // If we were called with a replacer function, then call the replacer to\n    // obtain a replacement value.\n\n    if (typeof replacer === \"function\") {\n      value = replacer.call(holder, key, value);\n    }\n\n    // What happens next depends on the value's type.\n\n    switch (typeof value) {\n      case \"string\":\n        return quote(value);\n\n      case \"number\":\n        // JSON numbers must be finite. Encode non-finite numbers as null.\n        return isFinite(value) ? String(value) : \"null\";\n\n      case \"boolean\":\n      case \"bigint\":\n        // If the value is a boolean or bigint, convert it to a string. Note:\n        return String(value);\n\n      case \"object\":\n        // Due to a specification blunder in ECMAScript, typeof null is 'object',\n        // so watch out for that case.\n        if (!value) {\n          return \"null\";\n        }\n\n        // Make an array to hold the partial results of stringifying this object value.\n\n        gap += indent;\n        partial = [];\n\n        // Is the value an array?\n        if (isArray(value)) {\n          // The value is an array. Stringify every element. Use null as a placeholder\n          // for non-JSON values.\n\n          length = value.length;\n          for (i = 0; i < length; i += 1) {\n            partial[i] = walk(i, value) || \"null\";\n          }\n\n          // Join all of the elements together, separated with commas, and wrap them in\n          // brackets.\n\n          if (partial.length === 0) {\n            v = \"[]\";\n          } else {\n            if (gap) {\n              v = \"[\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"]\";\n            } else {\n              v = \"[\" + partial.join(\",\") + \"]\";\n            }\n          }\n\n          gap = mind;\n          return v;\n        }\n\n        // If the replacer is an array, use it to select the members to be stringified.\n        if (isArray(\"replacer\")) {\n          length = replacer.length;\n          for (i = 0; i < length; i += 1) {\n            if (typeof replacer[i] === \"string\") {\n              k = replacer[i];\n              v = walk(k, value);\n              if (v) {\n                partial.push(quote(k) + (gap ? \": \" : \":\") + v);\n              }\n            }\n          }\n        } else {\n          // Otherwise, iterate through all of the keys in the object.\n\n          Object.keys(value).forEach(function (k) {\n            const v = walk(k, value);\n            if (v) {\n              partial.push(quote(k) + (gap ? \": \" : \":\") + v);\n            }\n          });\n        }\n\n        // Join all of the member texts together, separated with commas,\n        // and wrap them in braces.\n\n        if (partial.length === 0) {\n          v = \"{}\";\n        } else {\n          if (gap) {\n            v = \"{\\n\" + gap + partial.join(\",\\n\" + gap) + \"\\n\" + mind + \"}\";\n          } else {\n            v = \"{\" + partial.join(\",\") + \"}\";\n          }\n        }\n\n        gap = mind;\n        return v;\n    }\n  };\n\n  // Make a fake root object containing our value under the key of ''.\n  return walk(\"\", { \"\": value });\n}\n","import { isObject, isString, isNumber, isBoolean } from \"./utils/is\";\nimport quote from \"./utils/quote\";\n\ninterface ISchema {\n  type: \"string\" | \"boolean\" | \"number\" | \"null\" | \"object\" | \"array\";\n  originType: \"string\" | \"boolean\" | \"number\" | \"null\" | \"object\" | \"array\";\n  value: Array<ISchema> | ISchema;\n}\n\n// data schema if is array\nexport default function jsonStringifyByDataSchema(\n  obj: unknown,\n  schema: ISchema,\n  space: number | string\n) {\n  let gap = \"\";\n  if (isNumber(space)) {\n    gap = \" \".repeat(space);\n  } else if (isString(space)) {\n    gap = space;\n  }\n\n  const jsonStringify = (obj, schema: ISchema, indentLevel = 0) => {\n    if (isString(obj)) {\n      if (schema?.originType === \"number\") {\n        return `${obj}`;\n      } else {\n        return quote(obj);\n      }\n    }\n\n    if (obj === null || isNumber(obj) || isBoolean(obj)) {\n      return `${obj}`;\n    }\n\n    const currentIndentChars = gap.repeat(indentLevel * 2);\n    const nextIndentChars = gap.repeat((indentLevel + 1) * 2);\n\n    if (Array.isArray(obj)) {\n      if (!obj.length) {\n        return \"[]\";\n      }\n      let result = gap ? \"[\\n\" : \"[\";\n      for (const [index, item] of obj.entries()) {\n        const value = jsonStringify(\n          item,\n          schema?.value?.[index],\n          indentLevel + 1\n        );\n        result += `${nextIndentChars}${value}`;\n        if (index !== value.length - 1) {\n          result += gap ? \",\\n\" : \",\";\n        } else {\n          result += gap ? \"\\n\" : \"\";\n        }\n      }\n      result += `${currentIndentChars}]`;\n      return result;\n    }\n\n    if (isObject(obj)) {\n      const keys = Object.keys(obj);\n      if (!keys.length) {\n        return \"{}\";\n      }\n      let result = gap ? \"{\\n\" : \"{\";\n      for (const [index, key] of keys.entries()) {\n        const value = jsonStringify(\n          obj[key],\n          schema?.value?.[key],\n          indentLevel + 1\n        );\n        // if there is gap, give one space between key and value\n        const SPACE = gap ? \" \" : \"\";\n        result += `${nextIndentChars}\"${key}\":${SPACE}${value}`;\n        if (index !== keys.length - 1) {\n          result += gap ? \",\\n\" : \",\";\n        } else {\n          result += gap ? \"\\n\" : \"\";\n        }\n      }\n      result += `${currentIndentChars}}`;\n      return result;\n    }\n  };\n\n  return jsonStringify(obj, schema);\n}\n","import { isObject, isString, isNumber, isBoolean } from \"./utils/is\";\nimport quote from \"./utils/quote\";\n\ninterface ISchema {\n  type: \"string\" | \"boolean\" | \"number\" | \"null\" | \"object\" | \"array\";\n  items?: ISchema;\n  properties?: ISchema;\n}\n\nexport default function jsonStringifyByJsonSchema(\n  obj: unknown,\n  jsonSchema: ISchema,\n  space: number | string\n) {\n  let gap = \"\";\n  if (isNumber(space)) {\n    gap = \" \".repeat(space);\n  } else if (isString(space)) {\n    gap = space;\n  }\n\n  const jsonStringify = (obj, jsonSchema: ISchema, indentLevel = 0) => {\n    if (isString(obj)) {\n      if (jsonSchema?.type === \"number\") {\n        return `${obj}`;\n      } else {\n        return quote(obj);\n      }\n    }\n\n    if (obj === null || isNumber(obj) || isBoolean(obj)) {\n      return `${obj}`;\n    }\n\n    const currentIndentChars = gap.repeat(indentLevel * 2);\n    const nextIndentChars = gap.repeat((indentLevel + 1) * 2);\n    if (Array.isArray(obj)) {\n      if (!obj.length) {\n        return \"[]\";\n      }\n      let result = gap ? \"[\\n\" : \"[\";\n      for (const [index, item] of obj.entries()) {\n        const value = jsonStringify(item, jsonSchema?.items, indentLevel + 1);\n        result += `${nextIndentChars}${value}`;\n        if (index !== value.length - 1) {\n          result += gap ? \",\\n\" : \",\";\n        } else {\n          result += gap ? \"\\n\" : \"\";\n        }\n      }\n      result += `${currentIndentChars}]`;\n      return result;\n    }\n\n    if (isObject(obj)) {\n      const keys = Object.keys(obj);\n      if (!keys.length) {\n        return \"{}\";\n      }\n      let result = gap ? \"{\\n\" : \"{\";\n      for (const [index, key] of keys.entries()) {\n        const value = jsonStringify(\n          obj[key],\n          jsonSchema?.properties?.[key],\n          indentLevel + 1\n        );\n        // if there is gap, give one space between key and value\n        const SPACE = gap ? \" \" : \"\";\n        result += `${nextIndentChars}\"${key}\":${SPACE}${value}`;\n        if (index !== keys.length - 1) {\n          result += gap ? \",\\n\" : \",\";\n        } else {\n          result += gap ? \"\\n\" : \"\";\n        }\n      }\n      result += `${currentIndentChars}}`;\n      return result;\n    }\n  };\n\n  return jsonStringify(obj, jsonSchema);\n}\n"],"names":[],"mappings":"AAAO,MAAM,SAAS,GAAG;AACvB,IAAA,MAAM,EAAE,QAAQ;AAChB,IAAA,MAAM,EAAE,QAAQ;AAChB,IAAA,OAAO,EAAE,SAAS;AAClB,IAAA,IAAI,EAAE,MAAM;AACZ,IAAA,MAAM,EAAE,QAAQ;AAChB,IAAA,KAAK,EAAE,OAAO;CACN;;ACPJ,SAAU,OAAO,CAAC,GAAY,EAAA;AAClC,IAAA,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,gBAAgB,CAAC;AAClE,CAAC;AAEK,SAAU,QAAQ,CAAC,GAAY,EAAA;AACnC,IAAA,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,iBAAiB,CAAC;AACnE,CAAC;AAEK,SAAU,QAAQ,CAAC,GAAY,EAAA;AACnC,IAAA,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,iBAAiB,CAAC;AACnE,CAAC;AAEK,SAAU,QAAQ,CAAC,GAAY,EAAA;AACnC,IAAA,QACE,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,iBAAiB,IAAI,GAAG,KAAK,GAAG,EACxE;AACJ,CAAC;AAEK,SAAU,SAAS,CAAC,GAAY,EAAA;AACpC,IAAA,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,kBAAkB,CAAC;AACpE,CAAC;AA0BK,SAAU,UAAU,CACxB,GAAY,EAAA;AAEZ,IAAA,OAAO,OAAO,GAAG,KAAK,UAAU,CAAC;AACnC;;AC/CwB,SAAA,eAAe,CAAC,GAAG,EAAA;AACzC,IAAA,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AAClB,QAAA,MAAM,IAAI,KAAK,CACb,QAAQ,GAAG,CAAA,mDAAA,CAAqD,CACjE,CAAC;AACH,KAAA;IAED,QAAQ,GAAG,CAAC,IAAI;AACd,QAAA,KAAK,SAAS,CAAC,MAAM,EAAE;AACrB,YAAA,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACxB,MAAM,IAAI,KAAK,CACb,CAAA,+BAAA,EAAkC,GAAG,CAAC,KAAK,CAAgB,cAAA,CAAA,CAC5D,CAAC;AACH,aAAA;YACD,MAAM,MAAM,GAAG,EAAE,CAAC;AAClB,YAAA,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACpD,MAAM,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC;AACtC,aAAA;AACD,YAAA,OAAO,MAAM,CAAC;AACf,SAAA;AAED,QAAA,KAAK,SAAS,CAAC,KAAK,EAAE;AACpB,YAAA,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACvB,MAAM,IAAI,KAAK,CACb,CAAA,8BAAA,EAAiC,GAAG,CAAC,KAAK,CAAgB,cAAA,CAAA,CAC3D,CAAC;AACH,aAAA;YACD,MAAM,MAAM,GAAG,EAAE,CAAC;AAClB,YAAA,KAAK,MAAM,KAAK,IAAI,GAAG,CAAC,KAAK,EAAE;gBAC7B,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC;AACrC,aAAA;AACD,YAAA,OAAO,MAAM,CAAC;AACf,SAAA;AAED,QAAA;YACE,OAAO,GAAG,CAAC,KAAK,CAAC;AACpB,KAAA;AACH;;ACzBA,MAAM,SAAS,GAAG,UAAU,MAAc,EAAE,OAAkB,EAAA;;;;;IAK5D,MAAM,cAAc,GAClB,yIAAyI,CAAC;IAC5I,MAAM,oBAAoB,GACxB,0JAA0J,CAAC;;;;;;AAQ7J,IAAA,MAAM,QAAQ,GAAG;AACf,QAAA,MAAM,EAAE,KAAK;AACb,QAAA,aAAa,EAAE,KAAK;AACpB,QAAA,mBAAmB,EAAE,KAAK;AAC1B,QAAA,WAAW,EAAE,OAAO;AACpB,QAAA,iBAAiB,EAAE,OAAO;KAC3B,CAAC;;AAGF,IAAA,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,KAAK,IAAI,EAAE;AAC7C,QAAA,IAAI,OAAO,CAAC,MAAM,KAAK,IAAI,EAAE;AAC3B,YAAA,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;AACxB,SAAA;AACD,QAAA,IAAI,OAAO,CAAC,aAAa,KAAK,IAAI,EAAE;AAClC,YAAA,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC;AAC/B,SAAA;AACD,QAAA,QAAQ,CAAC,mBAAmB;YAC1B,OAAO,CAAC,mBAAmB,KAAK,IAAI;kBAChC,OAAO,CAAC,mBAAmB;kBAC3B,KAAK,CAAC;AAEZ,QAAA,IAAI,OAAO,OAAO,CAAC,iBAAiB,KAAK,WAAW,EAAE;AACpD,YAAA,IACE,OAAO,CAAC,iBAAiB,KAAK,OAAO;gBACrC,OAAO,CAAC,iBAAiB,KAAK,QAAQ;AACtC,gBAAA,OAAO,CAAC,iBAAiB,KAAK,UAAU,EACxC;AACA,gBAAA,QAAQ,CAAC,iBAAiB,GAAG,OAAO,CAAC,iBAAiB,CAAC;AACxD,aAAA;AAAM,iBAAA;gBACL,MAAM,IAAI,KAAK,CACb,CAAA,gGAAA,EAAmG,OAAO,CAAC,iBAAiB,CAAE,CAAA,CAC/H,CAAC;AACH,aAAA;AACF,SAAA;AAED,QAAA,IAAI,OAAO,OAAO,CAAC,WAAW,KAAK,WAAW,EAAE;AAC9C,YAAA,IACE,OAAO,CAAC,WAAW,KAAK,OAAO;gBAC/B,OAAO,CAAC,WAAW,KAAK,QAAQ;AAChC,gBAAA,OAAO,CAAC,WAAW,KAAK,UAAU,EAClC;AACA,gBAAA,QAAQ,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;AAC5C,aAAA;AAAM,iBAAA;gBACL,MAAM,IAAI,KAAK,CACb,CAAA,0FAAA,EAA6F,OAAO,CAAC,WAAW,CAAE,CAAA,CACnH,CAAC;AACH,aAAA;AACF,SAAA;AACF,KAAA;IAED,IAAI,EAAE,CAAC;IACP,IAAI,EAAE,CAAC;AACP,IAAA,MAAM,OAAO,GAAG;AACd,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,IAAI,EAAE,IAAI;AACV,QAAA,GAAG,EAAE,GAAG;AACR,QAAA,CAAC,EAAE,IAAI;AACP,QAAA,CAAC,EAAE,IAAI;AACP,QAAA,CAAC,EAAE,IAAI;AACP,QAAA,CAAC,EAAE,IAAI;AACP,QAAA,CAAC,EAAE,IAAI;KACR,CAAC;AACF,IAAA,IAAI,IAAI,CAAC;IAET,MAAM,KAAK,GAAG,UAAU,CAAC,EAAA;;QAGvB,MAAM;AACJ,YAAA,IAAI,EAAE,aAAa;AACnB,YAAA,OAAO,EAAE,CAAC;AACV,YAAA,EAAE,EAAE,EAAE;AACN,YAAA,IAAI,EAAE,IAAI;SACX,CAAC;AACJ,KAAC,CAAC;IAEF,MAAM,IAAI,GAAG,UAAU,CAAE,EAAA;;AAGvB,QAAA,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE;YACjB,KAAK,CAAC,YAAY,GAAG,CAAC,GAAG,gBAAgB,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC;AACvD,SAAA;;;AAKD,QAAA,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QACrB,EAAE,IAAI,CAAC,CAAC;AACR,QAAA,OAAO,EAAE,CAAC;AACZ,KAAC,CAAC;AAEF,IAAA,MAAM,MAAM,GAAG,YAAA;;AAGb,QAAA,IAAI,MAAM,CAAC;QACX,IAAI,MAAM,GAAG,EAAE,CAAC;QAEhB,IAAI,EAAE,KAAK,GAAG,EAAE;YACd,MAAM,GAAG,GAAG,CAAC;YACb,IAAI,CAAC,GAAG,CAAC,CAAC;AACX,SAAA;AACD,QAAA,OAAO,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,EAAE;YAC7B,MAAM,IAAI,EAAE,CAAC;AACb,YAAA,IAAI,EAAE,CAAC;AACR,SAAA;QACD,IAAI,EAAE,KAAK,GAAG,EAAE;YACd,MAAM,IAAI,GAAG,CAAC;YACd,OAAO,IAAI,EAAE,IAAI,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,EAAE;gBACvC,MAAM,IAAI,EAAE,CAAC;AACd,aAAA;AACF,SAAA;AACD,QAAA,IAAI,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,GAAG,EAAE;YAC5B,MAAM,IAAI,EAAE,CAAC;AACb,YAAA,IAAI,EAAE,CAAC;AACP,YAAA,IAAI,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,GAAG,EAAE;gBAC5B,MAAM,IAAI,EAAE,CAAC;AACb,gBAAA,IAAI,EAAE,CAAC;AACR,aAAA;AACD,YAAA,OAAO,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,EAAE;gBAC7B,MAAM,IAAI,EAAE,CAAC;AACb,gBAAA,IAAI,EAAE,CAAC;AACR,aAAA;AACF,SAAA;QACD,MAAM,GAAG,CAAC,MAAM,CAAC;AACjB,QAAA,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE;YACrB,KAAK,CAAC,YAAY,CAAC,CAAC;AACrB,SAAA;AAAM,aAAA;YACL,IAAI,QAAQ,CAAC,aAAa,EAAE;AAC1B,gBAAA,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;AAChE,aAAA;AAED,YAAA,IAAI,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC;gBAC9B,IAAI,QAAQ,CAAC,mBAAmB,EAAE;oBAChC,OAAO;AACL,wBAAA,IAAI,EAAE,QAAQ;AACd,wBAAA,UAAU,EAAE,QAAQ;AACpB,wBAAA,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC;qBACtB,CAAC;AACH,iBAAA;AAAM,qBAAA;AACL,oBAAA,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;AAChE,iBAAA;;AAEE,iBAAA;AACH,gBAAA,IAAI,MAAM,CAAC;AACX,gBAAA,IAAI,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;oBACzB,MAAM,GAAG,MAAM,CAAC;AACjB,iBAAA;AAAM,qBAAA;AACL,oBAAA,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;AACzB,iBAAA;AACD,gBAAA,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;AAChE,aAAA;AACF,SAAA;AACH,KAAC,CAAC;AAEF,IAAA,MAAM,MAAM,GAAG,YAAA;;AAGb,QAAA,IAAI,GAAG,CAAC;AACR,QAAA,IAAI,CAAC,CAAC;QACN,IAAI,MAAM,GAAG,EAAE,CAAC;AAChB,QAAA,IAAI,KAAK,CAAC;;QAIV,IAAI,EAAE,KAAK,GAAG,EAAE;YACd,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,OAAO,IAAI,EAAE,EAAE;gBACb,IAAI,EAAE,KAAK,GAAG,EAAE;AACd,oBAAA,IAAI,EAAE,GAAG,CAAC,GAAG,OAAO;wBAAE,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;AAChE,oBAAA,IAAI,EAAE,CAAC;AACP,oBAAA,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;AAChE,iBAAA;gBACD,IAAI,EAAE,KAAK,IAAI,EAAE;AACf,oBAAA,IAAI,EAAE,GAAG,CAAC,GAAG,OAAO;wBAAE,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;AAChE,oBAAA,IAAI,EAAE,CAAC;oBACP,IAAI,EAAE,KAAK,GAAG,EAAE;wBACd,KAAK,GAAG,CAAC,CAAC;wBACV,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;4BACzB,GAAG,GAAG,QAAQ,CAAC,IAAI,EAAE,EAAE,EAAE,CAAC,CAAC;AAC3B,4BAAA,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gCAClB,MAAM;AACP,6BAAA;AACD,4BAAA,KAAK,GAAG,KAAK,GAAG,EAAE,GAAG,GAAG,CAAC;AAC1B,yBAAA;AACD,wBAAA,MAAM,IAAI,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;AACtC,qBAAA;AAAM,yBAAA,IAAI,OAAO,OAAO,CAAC,EAAE,CAAC,KAAK,QAAQ,EAAE;AAC1C,wBAAA,MAAM,IAAI,OAAO,CAAC,EAAE,CAAC,CAAC;AACvB,qBAAA;AAAM,yBAAA;wBACL,MAAM;AACP,qBAAA;oBACD,OAAO,GAAG,EAAE,CAAC;AACd,iBAAA;AACF,aAAA;AACF,SAAA;QACD,KAAK,CAAC,YAAY,CAAC,CAAC;AACtB,KAAC,CAAC;AAEF,IAAA,MAAM,KAAK,GAAG,YAAA;;AAGZ,QAAA,OAAO,EAAE,IAAI,EAAE,IAAI,GAAG,EAAE;AACtB,YAAA,IAAI,EAAE,CAAC;AACR,SAAA;AACH,KAAC,CAAC;AAEF,IAAA,MAAM,IAAI,GAAG,YAAA;;AAGX,QAAA,QAAQ,EAAE;AACR,YAAA,KAAK,GAAG;gBACN,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC;AACV,gBAAA,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;AAEjE,YAAA,KAAK,GAAG;gBACN,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC;AACV,gBAAA,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;AAElE,YAAA,KAAK,GAAG;gBACN,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,IAAI,CAAC,GAAG,CAAC,CAAC;AACV,gBAAA,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;AAC5D,SAAA;AACD,QAAA,KAAK,CAAC,cAAc,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC;AACnC,KAAC,CAAC;IAEF,IAAI,KAAK,CAAC;AAEV,IAAA,MAAM,KAAK,GAAG,YAAA;;AAGZ,QAAA,MAAM,KAAK,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;QAEhE,IAAI,EAAE,KAAK,GAAG,EAAE;YACd,IAAI,CAAC,GAAG,CAAC,CAAC;AACV,YAAA,KAAK,EAAE,CAAC;YACR,IAAI,EAAE,KAAK,GAAG,EAAE;gBACd,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,OAAO,KAAK,CAAC;AACd,aAAA;AACD,YAAA,OAAO,EAAE,EAAE;gBACT,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;AAC1B,gBAAA,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,KAAK,GAAG,EAAE;oBACd,IAAI,CAAC,GAAG,CAAC,CAAC;AACV,oBAAA,OAAO,KAAK,CAAC;AACd,iBAAA;gBACD,IAAI,CAAC,GAAG,CAAC,CAAC;AACV,gBAAA,KAAK,EAAE,CAAC;AACT,aAAA;AACF,SAAA;QACD,KAAK,CAAC,WAAW,CAAC,CAAC;AACrB,KAAC,CAAC;AAEF,IAAA,MAAM,MAAM,GAAG,YAAA;;AAGb,QAAA,IAAI,GAAG,CAAC;AACR,QAAA,MAAM,MAAM,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;QACnE,IAAI,EAAE,KAAK,GAAG,EAAE;YACd,IAAI,CAAC,GAAG,CAAC,CAAC;AACV,YAAA,KAAK,EAAE,CAAC;YACR,IAAI,EAAE,KAAK,GAAG,EAAE;gBACd,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,OAAO,MAAM,CAAC;AACf,aAAA;AACD,YAAA,OAAO,EAAE,EAAE;AACT,gBAAA,GAAG,GAAG,MAAM,EAAE,EAAE,KAAK,CAAC;AACtB,gBAAA,KAAK,EAAE,CAAC;gBACR,IAAI,CAAC,GAAG,CAAC,CAAC;AACV,gBAAA,IACE,QAAQ,CAAC,MAAM,KAAK,IAAI;oBACxB,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,EAC7C;AACA,oBAAA,KAAK,CAAC,iBAAiB,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AACtC,iBAAA;gBAED,IAAI,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;AACrC,oBAAA,IAAI,QAAQ,CAAC,WAAW,KAAK,OAAO,EAAE;wBACpC,KAAK,CAAC,8CAA8C,CAAC,CAAC;AACvD,qBAAA;AAAM,yBAAA,IAAI,QAAQ,CAAC,WAAW,KAAK,QAAQ,EAAE;AAC5C,wBAAA,KAAK,EAAE,CAAC;AACT,qBAAA;AAAM,yBAAA;wBACL,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,CAAC;AAC7B,qBAAA;AACF,iBAAA;qBAAM,IAAI,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE;AAClD,oBAAA,IAAI,QAAQ,CAAC,iBAAiB,KAAK,OAAO,EAAE;wBAC1C,KAAK,CAAC,gDAAgD,CAAC,CAAC;AACzD,qBAAA;AAAM,yBAAA,IAAI,QAAQ,CAAC,iBAAiB,KAAK,QAAQ,EAAE;AAClD,wBAAA,KAAK,EAAE,CAAC;AACT,qBAAA;AAAM,yBAAA;wBACL,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,CAAC;AAC7B,qBAAA;AACF,iBAAA;AAAM,qBAAA;oBACL,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,CAAC;AAC7B,iBAAA;AAED,gBAAA,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,KAAK,GAAG,EAAE;oBACd,IAAI,CAAC,GAAG,CAAC,CAAC;AACV,oBAAA,OAAO,MAAM,CAAC;AACf,iBAAA;gBACD,IAAI,CAAC,GAAG,CAAC,CAAC;AACV,gBAAA,KAAK,EAAE,CAAC;AACT,aAAA;AACF,SAAA;QACD,KAAK,CAAC,YAAY,CAAC,CAAC;AACtB,KAAC,CAAC;AAEF,IAAA,KAAK,GAAG,YAAA;;;;AAIN,QAAA,KAAK,EAAE,CAAC;AACR,QAAA,QAAQ,EAAE;AACR,YAAA,KAAK,GAAG;gBACN,OAAO,MAAM,EAAE,CAAC;AAClB,YAAA,KAAK,GAAG;gBACN,OAAO,KAAK,EAAE,CAAC;AACjB,YAAA,KAAK,GAAG;gBACN,OAAO,MAAM,EAAE,CAAC;AAClB,YAAA,KAAK,GAAG;gBACN,OAAO,MAAM,EAAE,CAAC;AAClB,YAAA;AACE,gBAAA,OAAO,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,GAAG,GAAG,MAAM,EAAE,GAAG,IAAI,EAAE,CAAC;AACrD,SAAA;AACH,KAAC,CAAC;;;AAKF,IAAA,IAAI,GAAG,MAAM,GAAG,EAAE,CAAC;IACnB,EAAE,GAAG,CAAC,CAAC;IACP,EAAE,GAAG,GAAG,CAAC;AACT,IAAA,MAAM,UAAU,GAAG,KAAK,EAAE,CAAC;AAC3B,IAAA,MAAM,IAAI,GAAG,eAAe,CAAC,UAAU,CAAC,CAAC;AACzC,IAAA,KAAK,EAAE,CAAC;AACR,IAAA,IAAI,EAAE,EAAE;QACN,KAAK,CAAC,cAAc,CAAC,CAAC;AACvB,KAAA;AAED,IAAA,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC;AAC9B;;AC1XwB,SAAA,KAAK,CAAC,GAAG,EAAA;;;;;IAK/B,MAAM,SAAS,GACb,0HAA0H,CAAC;AAC7H,IAAA,MAAM,IAAI,GAAG;;AAEX,QAAA,IAAI,EAAE,KAAK;AACX,QAAA,IAAI,EAAE,KAAK;AACX,QAAA,IAAI,EAAE,KAAK;AACX,QAAA,IAAI,EAAE,KAAK;AACX,QAAA,IAAI,EAAE,KAAK;AACX,QAAA,GAAG,EAAE,KAAK;AACV,QAAA,IAAI,EAAE,MAAM;KACb,CAAC;AACF,IAAA,SAAS,CAAC,SAAS,GAAG,CAAC,CAAC;AACxB,IAAA,IAAI,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;QACvB,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,SAAS,EAAE,UAAU,CAAC,EAAA;AAC/C,YAAA,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAClB,OAAO,QAAQ,CAAC,CAAC,CAAC;AAChB,kBAAE,CAAC;kBACD,KAAK,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAChE,SAAC,CAAC,CAAC;QACH,OAAO,CAAA,CAAA,EAAI,MAAM,CAAA,CAAA,CAAG,CAAC;AACtB,KAAA;IAED,OAAO,CAAA,CAAA,EAAI,GAAG,CAAA,CAAA,CAAG,CAAC;AACpB;;AC5BA;AAEA;;;;;AAKE;AACsB,SAAA,aAAa,CAAC,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAA;IAC1D,IAAI,GAAG,GAAG,EAAE,CAAC;IACb,IAAI,MAAM,GAAG,EAAE,CAAC;;AAGhB,IAAA,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAC7B,QAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,IAAI,CAAC,EAAE;YACjC,MAAM,IAAI,GAAG,CAAC;AACf,SAAA;AACF,KAAA;AAAM,SAAA,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QACpC,MAAM,GAAG,KAAK,CAAC;AAChB,KAAA;AAED,IAAA,IAAI,QAAQ,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;AAC3D,QAAA,MAAM,IAAI,KAAK,CAAC,mDAAmD,CAAC,CAAC;AACtE,KAAA;AAED,IAAA,MAAM,IAAI,GAAG,CAAC,GAAG,EAAE,MAAM,KAAI;;QAG3B,IAAI,CAAC;AACH,QAAA,CAAC;AACD,QAAA,CAAC;QACD,MAAM,EACN,OAAO,EACP,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;QAEtB,MAAM,IAAI,GAAG,GAAG,CAAC;;AAIjB,QAAA,IAAI,KAAK,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;AACxD,YAAA,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAC3B,SAAA;;;AAKD,QAAA,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;YAClC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;AAC3C,SAAA;;QAID,QAAQ,OAAO,KAAK;AAClB,YAAA,KAAK,QAAQ;AACX,gBAAA,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC;AAEtB,YAAA,KAAK,QAAQ;;AAEX,gBAAA,OAAO,QAAQ,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC;AAElD,YAAA,KAAK,SAAS,CAAC;AACf,YAAA,KAAK,QAAQ;;AAEX,gBAAA,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC;AAEvB,YAAA,KAAK,QAAQ;;;gBAGX,IAAI,CAAC,KAAK,EAAE;AACV,oBAAA,OAAO,MAAM,CAAC;AACf,iBAAA;;gBAID,GAAG,IAAI,MAAM,CAAC;gBACd,OAAO,GAAG,EAAE,CAAC;;AAGb,gBAAA,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;;;AAIlB,oBAAA,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;oBACtB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AAC9B,wBAAA,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC;AACvC,qBAAA;;;AAKD,oBAAA,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;wBACxB,CAAC,GAAG,IAAI,CAAC;AACV,qBAAA;AAAM,yBAAA;AACL,wBAAA,IAAI,GAAG,EAAE;AACP,4BAAA,CAAC,GAAG,KAAK,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC;AACjE,yBAAA;AAAM,6BAAA;4BACL,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AACnC,yBAAA;AACF,qBAAA;oBAED,GAAG,GAAG,IAAI,CAAC;AACX,oBAAA,OAAO,CAAC,CAAC;AACV,iBAAA;;AAGD,gBAAA,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE;AACvB,oBAAA,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;oBACzB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;AAC9B,wBAAA,IAAI,OAAO,QAAQ,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;AACnC,4BAAA,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;AAChB,4BAAA,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;AACnB,4BAAA,IAAI,CAAC,EAAE;gCACL,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AACjD,6BAAA;AACF,yBAAA;AACF,qBAAA;AACF,iBAAA;AAAM,qBAAA;;oBAGL,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,EAAA;wBACpC,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;AACzB,wBAAA,IAAI,CAAC,EAAE;4BACL,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AACjD,yBAAA;AACH,qBAAC,CAAC,CAAC;AACJ,iBAAA;;;AAKD,gBAAA,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;oBACxB,CAAC,GAAG,IAAI,CAAC;AACV,iBAAA;AAAM,qBAAA;AACL,oBAAA,IAAI,GAAG,EAAE;AACP,wBAAA,CAAC,GAAG,KAAK,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,CAAC;AACjE,qBAAA;AAAM,yBAAA;wBACL,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AACnC,qBAAA;AACF,iBAAA;gBAED,GAAG,GAAG,IAAI,CAAC;AACX,gBAAA,OAAO,CAAC,CAAC;AACZ,SAAA;AACH,KAAC,CAAC;;IAGF,OAAO,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC;AACjC;;AC7IA;AACwB,SAAA,yBAAyB,CAC/C,GAAY,EACZ,MAAe,EACf,KAAsB,EAAA;IAEtB,IAAI,GAAG,GAAG,EAAE,CAAC;AACb,IAAA,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AACnB,QAAA,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACzB,KAAA;AAAM,SAAA,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;QAC1B,GAAG,GAAG,KAAK,CAAC;AACb,KAAA;IAED,MAAM,aAAa,GAAG,CAAC,GAAG,EAAE,MAAe,EAAE,WAAW,GAAG,CAAC,KAAI;AAC9D,QAAA,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;AACjB,YAAA,IAAI,MAAM,EAAE,UAAU,KAAK,QAAQ,EAAE;gBACnC,OAAO,CAAA,EAAG,GAAG,CAAA,CAAE,CAAC;AACjB,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AACnB,aAAA;AACF,SAAA;AAED,QAAA,IAAI,GAAG,KAAK,IAAI,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE;YACnD,OAAO,CAAA,EAAG,GAAG,CAAA,CAAE,CAAC;AACjB,SAAA;QAED,MAAM,kBAAkB,GAAG,GAAG,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;AACvD,QAAA,MAAM,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AAE1D,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AACtB,YAAA,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;AACf,gBAAA,OAAO,IAAI,CAAC;AACb,aAAA;YACD,IAAI,MAAM,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;YAC/B,KAAK,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,GAAG,CAAC,OAAO,EAAE,EAAE;AACzC,gBAAA,MAAM,KAAK,GAAG,aAAa,CACzB,IAAI,EACJ,MAAM,EAAE,KAAK,GAAG,KAAK,CAAC,EACtB,WAAW,GAAG,CAAC,CAChB,CAAC;AACF,gBAAA,MAAM,IAAI,CAAG,EAAA,eAAe,CAAG,EAAA,KAAK,EAAE,CAAC;AACvC,gBAAA,IAAI,KAAK,KAAK,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC9B,MAAM,IAAI,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;AAC7B,iBAAA;AAAM,qBAAA;oBACL,MAAM,IAAI,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC;AAC3B,iBAAA;AACF,aAAA;AACD,YAAA,MAAM,IAAI,CAAA,EAAG,kBAAkB,CAAA,CAAA,CAAG,CAAC;AACnC,YAAA,OAAO,MAAM,CAAC;AACf,SAAA;AAED,QAAA,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;YACjB,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC9B,YAAA,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AAChB,gBAAA,OAAO,IAAI,CAAC;AACb,aAAA;YACD,IAAI,MAAM,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;YAC/B,KAAK,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;gBACzC,MAAM,KAAK,GAAG,aAAa,CACzB,GAAG,CAAC,GAAG,CAAC,EACR,MAAM,EAAE,KAAK,GAAG,GAAG,CAAC,EACpB,WAAW,GAAG,CAAC,CAChB,CAAC;;gBAEF,MAAM,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;gBAC7B,MAAM,IAAI,CAAG,EAAA,eAAe,CAAI,CAAA,EAAA,GAAG,KAAK,KAAK,CAAA,EAAG,KAAK,CAAA,CAAE,CAAC;AACxD,gBAAA,IAAI,KAAK,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7B,MAAM,IAAI,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;AAC7B,iBAAA;AAAM,qBAAA;oBACL,MAAM,IAAI,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC;AAC3B,iBAAA;AACF,aAAA;AACD,YAAA,MAAM,IAAI,CAAA,EAAG,kBAAkB,CAAA,CAAA,CAAG,CAAC;AACnC,YAAA,OAAO,MAAM,CAAC;AACf,SAAA;AACH,KAAC,CAAC;AAEF,IAAA,OAAO,aAAa,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;AACpC;;AC9EwB,SAAA,yBAAyB,CAC/C,GAAY,EACZ,UAAmB,EACnB,KAAsB,EAAA;IAEtB,IAAI,GAAG,GAAG,EAAE,CAAC;AACb,IAAA,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;AACnB,QAAA,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACzB,KAAA;AAAM,SAAA,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAE;QAC1B,GAAG,GAAG,KAAK,CAAC;AACb,KAAA;IAED,MAAM,aAAa,GAAG,CAAC,GAAG,EAAE,UAAmB,EAAE,WAAW,GAAG,CAAC,KAAI;AAClE,QAAA,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;AACjB,YAAA,IAAI,UAAU,EAAE,IAAI,KAAK,QAAQ,EAAE;gBACjC,OAAO,CAAA,EAAG,GAAG,CAAA,CAAE,CAAC;AACjB,aAAA;AAAM,iBAAA;AACL,gBAAA,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC;AACnB,aAAA;AACF,SAAA;AAED,QAAA,IAAI,GAAG,KAAK,IAAI,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,SAAS,CAAC,GAAG,CAAC,EAAE;YACnD,OAAO,CAAA,EAAG,GAAG,CAAA,CAAE,CAAC;AACjB,SAAA;QAED,MAAM,kBAAkB,GAAG,GAAG,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;AACvD,QAAA,MAAM,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;AAC1D,QAAA,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AACtB,YAAA,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;AACf,gBAAA,OAAO,IAAI,CAAC;AACb,aAAA;YACD,IAAI,MAAM,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;YAC/B,KAAK,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,GAAG,CAAC,OAAO,EAAE,EAAE;AACzC,gBAAA,MAAM,KAAK,GAAG,aAAa,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,WAAW,GAAG,CAAC,CAAC,CAAC;AACtE,gBAAA,MAAM,IAAI,CAAG,EAAA,eAAe,CAAG,EAAA,KAAK,EAAE,CAAC;AACvC,gBAAA,IAAI,KAAK,KAAK,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC9B,MAAM,IAAI,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;AAC7B,iBAAA;AAAM,qBAAA;oBACL,MAAM,IAAI,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC;AAC3B,iBAAA;AACF,aAAA;AACD,YAAA,MAAM,IAAI,CAAA,EAAG,kBAAkB,CAAA,CAAA,CAAG,CAAC;AACnC,YAAA,OAAO,MAAM,CAAC;AACf,SAAA;AAED,QAAA,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;YACjB,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC9B,YAAA,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AAChB,gBAAA,OAAO,IAAI,CAAC;AACb,aAAA;YACD,IAAI,MAAM,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;YAC/B,KAAK,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,EAAE,EAAE;gBACzC,MAAM,KAAK,GAAG,aAAa,CACzB,GAAG,CAAC,GAAG,CAAC,EACR,UAAU,EAAE,UAAU,GAAG,GAAG,CAAC,EAC7B,WAAW,GAAG,CAAC,CAChB,CAAC;;gBAEF,MAAM,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;gBAC7B,MAAM,IAAI,CAAG,EAAA,eAAe,CAAI,CAAA,EAAA,GAAG,KAAK,KAAK,CAAA,EAAG,KAAK,CAAA,CAAE,CAAC;AACxD,gBAAA,IAAI,KAAK,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBAC7B,MAAM,IAAI,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;AAC7B,iBAAA;AAAM,qBAAA;oBACL,MAAM,IAAI,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC;AAC3B,iBAAA;AACF,aAAA;AACD,YAAA,MAAM,IAAI,CAAA,EAAG,kBAAkB,CAAA,CAAA,CAAG,CAAC;AACnC,YAAA,OAAO,MAAM,CAAC;AACf,SAAA;AACH,KAAC,CAAC;AAEF,IAAA,OAAO,aAAa,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;AACxC;;;;"}